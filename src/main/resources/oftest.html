<!DOCTYPE html>
<html>
<!--Orbfae
	by Alexander "KG" E. Hwang-->
	
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>

<style>
</style>
</head>

<body>
<div id="board">
<div><img id="character" class="characterStyle"></div>
</div>
<div class="container">
<div class="inblock content noselect" id="menu">
<p id="menu1">&nbsp Fae</p>
<p id="menu2">&nbsp Items</p>
<p id="menu3">&nbsp Registry</p>
<p id="menu4">&nbsp Save</p>
<p id="menu5">&nbsp Options</p>
<p id="menu6">&nbsp Quit</p>
</div>
</div>
<div id="textbox" class="textbox">

</div>
<script>
// **SETUP CHARACTER**
var character = {
	name:"?",
	month:"Februa",
	x:1, //mult by 32
	y:1, //mult by 32
	going:false,
	paused:false,
	talk:0,
	current:1,
	direction:"down",
	menu:1
};
var cm = {
	l1:37, l2:65, l3:100,
	r1:39, r2:68, r3:102,
	u1:38, u2:87, u3:104,
	d1:40, d2:83, d3:98,
	mu1:33, mu2:16, mu3:109,
	md1:34, md2:17, md3:107,
	ac1:32, ac2:81, ac3:103,
	ms1:13, ms2:90, ms3:97
};

// **SETUP THINGS**
function thing(name, x, y, sprite, action, misc) {
	this.name = name;
	this.x = x; //mult by 32
	this.y = y; //mult by 32
	this.sprite = sprite;
	this.action = action; //0 = nothing, 1 = generic
	this.misc = misc;
}

// **CURRENT AREA STUFF**
var things = [];
switch (character.current) {
	case 0:
		break;
	case 1:
		things.push(new thing(
			"Cindy", 5, 4, 
			["http://alexhwang.net/wp-content/uploads/2016/07/JuliaD1.png", 
			"http://alexhwang.net/wp-content/uploads/2016/07/JuliaL1.png", 
			"http://alexhwang.net/wp-content/uploads/2016/07/JuliaR1.png", 
			"http://alexhwang.net/wp-content/uploads/2016/07/JuliaU1.png"], 
			1, "Are you there?<br>Why?"
		));
		things.push(new thing("Rock", 0, 0, ["http://alexhwang.net/wp-content/uploads/2016/07/Rock1.png"], 0, ""));
		things.push(new thing("Rock", 0, 17, ["http://alexhwang.net/wp-content/uploads/2016/07/Rock1.png"], 0, ""));
		things.push(new thing("Rock", 17, 0, ["http://alexhwang.net/wp-content/uploads/2016/07/Rock1.png"], 0, ""));
		things.push(new thing("Rock", 17, 17, ["http://alexhwang.net/wp-content/uploads/2016/07/Rock1.png"], 0, ""));
		for (i = 1; i < 17; i++) {
			things.push(new thing("Rock", 0, i, ["http://alexhwang.net/wp-content/uploads/2016/07/Rock1.png"], 0, ""));
		}
		for (i = 1; i < 17; i++) {
			things.push(new thing("Rock", 17, i, ["http://alexhwang.net/wp-content/uploads/2016/07/Rock1.png"], 0, ""));
		}
		for (i = 1; i < 17; i++) {
			things.push(new thing("Rock", i, 17, ["http://alexhwang.net/wp-content/uploads/2016/07/Rock1.png"], 0, ""));
		}
		for (i = 1; i < 17; i++) {
			things.push(new thing("Rock", i, 0, ["http://alexhwang.net/wp-content/uploads/2016/07/Rock1.png"], 0, ""));
		}
		break;
}

// **INIT CHARACTER, THINGS**
function init() {
	for (i = 0; i < things.length; i++) {
		var thisSprite = document.createElement("IMG");
		thisSprite.setAttribute("id", things[i].name + i);
		thisSprite.setAttribute("src", things[i].sprite[0]);
		thisSprite.setAttribute("alt", things[i].name);
		document.body.appendChild(thisSprite);
		thisSprite.style.position = 'absolute';
		thisSprite.style.left = (things[i].x * 32) + 'px';
		thisSprite.style.top = (things[i].y * 32) + 'px';
	}
	sprite = document.getElementById("character");
	sprite.src="http://alexhwang.net/wp-content/uploads/2016/07/" + character.month + "D1.png"
	sprite.style.position = 'relative';
	sprite.style.left = (character.x * 32) - 8 + 'px';
	sprite.style.top = (character.y * 32) - 8 + 'px';
	document.getElementById("menu1").style.fontWeight="bold";
	document.getElementById("menu1").style.color="white";
}
window.onload = init;

// **CHARACTER ACTIONS**
document.getElementById("menu1").addEventListener('click', function(event) {
	if (character.menu != 1) {
		document.getElementById("menu1").style.fontWeight="bold";
		document.getElementById("menu1").style.color="white";
		document.getElementById("menu2").style.fontWeight="normal";
		document.getElementById("menu2").style.color="gray";
		document.getElementById("menu3").style.fontWeight="normal";
		document.getElementById("menu3").style.color="gray";
		document.getElementById("menu4").style.fontWeight="normal";
		document.getElementById("menu4").style.color="gray";
		document.getElementById("menu5").style.fontWeight="normal";
		document.getElementById("menu5").style.color="gray";
		document.getElementById("menu6").style.fontWeight="normal";
		document.getElementById("menu6").style.color="gray";
		character.menu = 1;
	}
});
document.getElementById("menu2").addEventListener('click', function(event) {
	if (character.menu != 2) {
		document.getElementById("menu2").style.fontWeight="bold";
		document.getElementById("menu2").style.color="white";
		document.getElementById("menu1").style.fontWeight="normal";
		document.getElementById("menu1").style.color="gray";
		document.getElementById("menu3").style.fontWeight="normal";
		document.getElementById("menu3").style.color="gray";
		document.getElementById("menu4").style.fontWeight="normal";
		document.getElementById("menu4").style.color="gray";
		document.getElementById("menu5").style.fontWeight="normal";
		document.getElementById("menu5").style.color="gray";
		document.getElementById("menu6").style.fontWeight="normal";
		document.getElementById("menu6").style.color="gray";
		character.menu = 2;
	}
});
document.getElementById("menu3").addEventListener('click', function(event) {
	if (character.menu != 3) {
		document.getElementById("menu3").style.fontWeight="bold";
		document.getElementById("menu3").style.color="white";
		document.getElementById("menu1").style.fontWeight="normal";
		document.getElementById("menu1").style.color="gray";
		document.getElementById("menu2").style.fontWeight="normal";
		document.getElementById("menu2").style.color="gray";
		document.getElementById("menu4").style.fontWeight="normal";
		document.getElementById("menu4").style.color="gray";
		document.getElementById("menu5").style.fontWeight="normal";
		document.getElementById("menu5").style.color="gray";
		document.getElementById("menu6").style.fontWeight="normal";
		document.getElementById("menu6").style.color="gray";
		character.menu = 3;
	}
});
document.getElementById("menu4").addEventListener('click', function(event) {
	if (character.menu != 4) {
		document.getElementById("menu4").style.fontWeight="bold";
		document.getElementById("menu4").style.color="white";
		document.getElementById("menu1").style.fontWeight="normal";
		document.getElementById("menu1").style.color="gray";
		document.getElementById("menu2").style.fontWeight="normal";
		document.getElementById("menu2").style.color="gray";
		document.getElementById("menu3").style.fontWeight="normal";
		document.getElementById("menu3").style.color="gray";
		document.getElementById("menu5").style.fontWeight="normal";
		document.getElementById("menu5").style.color="gray";
		document.getElementById("menu6").style.fontWeight="normal";
		document.getElementById("menu6").style.color="gray";
		character.menu = 4;
	}
});
document.getElementById("menu5").addEventListener('click', function(event) {
	if (character.menu != 5) {
		document.getElementById("menu5").style.fontWeight="bold";
		document.getElementById("menu5").style.color="white";
		document.getElementById("menu1").style.fontWeight="normal";
		document.getElementById("menu1").style.color="gray";
		document.getElementById("menu2").style.fontWeight="normal";
		document.getElementById("menu2").style.color="gray";
		document.getElementById("menu3").style.fontWeight="normal";
		document.getElementById("menu3").style.color="gray";
		document.getElementById("menu4").style.fontWeight="normal";
		document.getElementById("menu4").style.color="gray";
		document.getElementById("menu6").style.fontWeight="normal";
		document.getElementById("menu6").style.color="gray";
		character.menu = 5;
	}
});
document.getElementById("menu6").addEventListener('click', function(event) {
	if (character.menu != 6) {
		document.getElementById("menu6").style.fontWeight="bold";
		document.getElementById("menu6").style.color="white";
		document.getElementById("menu1").style.fontWeight="normal";
		document.getElementById("menu1").style.color="gray";
		document.getElementById("menu2").style.fontWeight="normal";
		document.getElementById("menu2").style.color="gray";
		document.getElementById("menu3").style.fontWeight="normal";
		document.getElementById("menu3").style.color="gray";
		document.getElementById("menu4").style.fontWeight="normal";
		document.getElementById("menu4").style.color="gray";
		document.getElementById("menu5").style.fontWeight="normal";
		document.getElementById("menu5").style.color="gray";
		character.menu = 6;
	}
});
document.addEventListener('keydown', function(event) {
	/*if((event.keyCode == 13 || event.keyCode == 27) && !character.going && !character.paused) { //enter or escape
		character.paused = true;
	}
	else if((event.keyCode == 13 || event.keyCode == 27) && character.paused) { //enter or escape
		character.paused = false;
	}*/
	if((event.keyCode == cm.mu1 || event.keyCode == cm.mu2 || event.keyCode == cm.mu3) && !character.paused) { //pgup or shift
		switch (character.menu) {
			case 1:
				document.getElementById("menu1").style.fontWeight="normal";
				document.getElementById("menu1").style.color="gray";
				document.getElementById("menu6").style.fontWeight="bold";
				document.getElementById("menu6").style.color="white";
				character.menu = 6;
				break;
			case 2:
				document.getElementById("menu2").style.fontWeight="normal";
				document.getElementById("menu2").style.color="gray";
				document.getElementById("menu1").style.fontWeight="bold";
				document.getElementById("menu1").style.color="white";
				character.menu = 1;
				break;
			case 3:
				document.getElementById("menu3").style.fontWeight="normal";
				document.getElementById("menu3").style.color="gray";
				document.getElementById("menu2").style.fontWeight="bold";
				document.getElementById("menu2").style.color="white";
				character.menu = 2;
				break;
			case 4:
				document.getElementById("menu4").style.fontWeight="normal";
				document.getElementById("menu4").style.color="gray";
				document.getElementById("menu3").style.fontWeight="bold";
				document.getElementById("menu3").style.color="white";
				character.menu = 3;
				break;
			case 5:
				document.getElementById("menu5").style.fontWeight="normal";
				document.getElementById("menu5").style.color="gray";
				document.getElementById("menu4").style.fontWeight="bold";
				document.getElementById("menu4").style.color="white";
				character.menu = 4;
				break;
			case 6:
				document.getElementById("menu6").style.fontWeight="normal";
				document.getElementById("menu6").style.color="gray";
				document.getElementById("menu5").style.fontWeight="bold";
				document.getElementById("menu5").style.color="white";
				character.menu = 5;
				break;
		}
	}
	else if((event.keyCode == cm.md1 || event.keyCode == cm.md2 || event.keyCode == cm.md3) && !character.paused) { //pgdwn or ctrl
		switch (character.menu) {
			case 1:
				document.getElementById("menu1").style.fontWeight="normal";
				document.getElementById("menu1").style.color="gray";
				document.getElementById("menu2").style.fontWeight="bold";
				document.getElementById("menu2").style.color="white";
				character.menu = 2;
				break;
			case 2:
				document.getElementById("menu2").style.fontWeight="normal";
				document.getElementById("menu2").style.color="gray";
				document.getElementById("menu3").style.fontWeight="bold";
				document.getElementById("menu3").style.color="white";
				character.menu = 3;
				break;
			case 3:
				document.getElementById("menu3").style.fontWeight="normal";
				document.getElementById("menu3").style.color="gray";
				document.getElementById("menu4").style.fontWeight="bold";
				document.getElementById("menu4").style.color="white";
				character.menu = 4;
				break;
			case 4:
				document.getElementById("menu4").style.fontWeight="normal";
				document.getElementById("menu4").style.color="gray";
				document.getElementById("menu5").style.fontWeight="bold";
				document.getElementById("menu5").style.color="white";
				character.menu = 5;
				break;
			case 5:
				document.getElementById("menu5").style.fontWeight="normal";
				document.getElementById("menu5").style.color="gray";
				document.getElementById("menu6").style.fontWeight="bold";
				document.getElementById("menu6").style.color="white";
				character.menu = 6;
				break;
			case 6:
				document.getElementById("menu6").style.fontWeight="normal";
				document.getElementById("menu6").style.color="gray";
				document.getElementById("menu1").style.fontWeight="bold";
				document.getElementById("menu1").style.color="white";
				character.menu = 1;
				break;
		}
	}
	else if((event.keyCode == cm.l1 || event.keyCode == cm.l2 || event.keyCode == cm.l3) && !character.going && !character.paused) { //left or a
		var allowed = true;
		character.going = true;
		character.direction = "left";
		character.x -= 1;
		for (i = 0; i < things.length; i++) {
			if (character.y == things[i].y && character.x == things[i].x) {
				var allowed = false;
				character.x += 1;
			}
		}
		if (allowed) {
			setTimeout(function() {sprite.src="http://alexhwang.net/wp-content/uploads/2016/07/" + character.month + "L2.png"}, 0);
			setTimeout(function() {sprite.style.left = parseInt(sprite.style.left) - 8 + 'px'}, 0);
			setTimeout(function() {sprite.src="http://alexhwang.net/wp-content/uploads/2016/07/" + character.month + "L1.png"}, 100);
			setTimeout(function() {sprite.style.left = parseInt(sprite.style.left) - 8 + 'px'}, 100);
			setTimeout(function() {sprite.src="http://alexhwang.net/wp-content/uploads/2016/07/" + character.month + "L3.png"}, 200);
			setTimeout(function() {sprite.style.left = parseInt(sprite.style.left) - 8 + 'px'}, 200);
			setTimeout(function() {sprite.src="http://alexhwang.net/wp-content/uploads/2016/07/" + character.month + "L1.png"}, 300);
			setTimeout(function() {sprite.style.left = parseInt(sprite.style.left) - 8 + 'px'}, 300);
			setTimeout(function() {character.going = false}, 300);
		}
		else {
			setTimeout(function() {sprite.src="http://alexhwang.net/wp-content/uploads/2016/07/" + character.month + "L1.png"}, 0);
			setTimeout(function() {character.going = false}, 150);
		}
	}
	else if((event.keyCode == cm.r1 || event.keyCode == cm.r2 || event.keyCode == cm.r3) && !character.going && !character.paused) { //right or d
		var allowed = true;
		character.going = true;
		character.direction = "right";
		character.x += 1;
		for (i = 0; i < things.length; i++) {
			if (character.y == things[i].y && character.x == things[i].x) {
				var allowed = false;
				character.x -= 1;
			}
		}
		if (allowed) {
			setTimeout(function() {sprite.src="http://alexhwang.net/wp-content/uploads/2016/07/" + character.month + "R2.png"}, 0);
			setTimeout(function() {sprite.style.left = parseInt(sprite.style.left) + 8 + 'px'}, 0);
			setTimeout(function() {sprite.src="http://alexhwang.net/wp-content/uploads/2016/07/" + character.month + "R1.png"}, 100);
			setTimeout(function() {sprite.style.left = parseInt(sprite.style.left) + 8 + 'px'}, 100);
			setTimeout(function() {sprite.src="http://alexhwang.net/wp-content/uploads/2016/07/" + character.month + "R3.png"}, 200);
			setTimeout(function() {sprite.style.left = parseInt(sprite.style.left) + 8 + 'px'}, 200);
			setTimeout(function() {sprite.src="http://alexhwang.net/wp-content/uploads/2016/07/" + character.month + "R1.png"}, 300);
			setTimeout(function() {sprite.style.left = parseInt(sprite.style.left) + 8 + 'px'}, 300);
			setTimeout(function() {character.going = false}, 300);
		}
		else {
			setTimeout(function() {sprite.src="http://alexhwang.net/wp-content/uploads/2016/07/" + character.month + "R1.png"}, 0);
			setTimeout(function() {character.going = false}, 150);
		}
	}
	else if((event.keyCode == cm.u1 || event.keyCode == cm.u2 || event.keyCode == cm.u3) && !character.going && !character.paused) { //up or w
		var allowed = true;
		character.going = true;
		character.direction = "up";
		character.y -= 1;
		for (i = 0; i < things.length; i++) {
			if (character.y == things[i].y && character.x == things[i].x) {
				var allowed = false;
				character.y += 1;
			}
		}
		if (allowed) {
			setTimeout(function() {sprite.src="http://alexhwang.net/wp-content/uploads/2016/07/" + character.month + "U2.png"}, 0);
			setTimeout(function() {sprite.style.top = parseInt(sprite.style.top) - 8 + 'px'}, 0);
			setTimeout(function() {sprite.src="http://alexhwang.net/wp-content/uploads/2016/07/" + character.month + "U1.png"}, 100);
			setTimeout(function() {sprite.style.top = parseInt(sprite.style.top) - 8 + 'px'}, 100);
			setTimeout(function() {sprite.src="http://alexhwang.net/wp-content/uploads/2016/07/" + character.month + "U3.png"}, 200);
			setTimeout(function() {sprite.style.top = parseInt(sprite.style.top) - 8 + 'px'}, 200);
			setTimeout(function() {sprite.src="http://alexhwang.net/wp-content/uploads/2016/07/" + character.month + "U1.png"}, 300);
			setTimeout(function() {sprite.style.top = parseInt(sprite.style.top) - 8 + 'px'}, 300);
			setTimeout(function() {character.going = false}, 300);
		}
		else {
			setTimeout(function() {sprite.src="http://alexhwang.net/wp-content/uploads/2016/07/" + character.month + "U1.png"}, 0);
			setTimeout(function() {character.going = false}, 150);
		}
	}
	else if((event.keyCode == cm.d1 || event.keyCode == cm.d2 || event.keyCode == cm.d3) && !character.going && !character.paused) { //down or s
		var allowed = true;
		character.going = true;
		character.direction = "down";
		character.y += 1;
		for (i = 0; i < things.length; i++) {
			if (character.y == things[i].y && character.x == things[i].x) {
				var allowed = false;
				character.y -= 1;
			}
		}
		if (allowed) {
			setTimeout(function() {sprite.src="http://alexhwang.net/wp-content/uploads/2016/07/" + character.month + "D2.png"}, 0);
			setTimeout(function() {sprite.style.top = parseInt(sprite.style.top) + 8 + 'px'}, 0);
			setTimeout(function() {sprite.src="http://alexhwang.net/wp-content/uploads/2016/07/" + character.month + "D1.png"}, 100);
			setTimeout(function() {sprite.style.top = parseInt(sprite.style.top) + 8 + 'px'}, 100);
			setTimeout(function() {sprite.src="http://alexhwang.net/wp-content/uploads/2016/07/" + character.month + "D3.png"}, 200);
			setTimeout(function() {sprite.style.top = parseInt(sprite.style.top) + 8 + 'px'}, 200);
			setTimeout(function() {sprite.src="http://alexhwang.net/wp-content/uploads/2016/07/" + character.month + "D1.png"}, 300);
			setTimeout(function() {sprite.style.top = parseInt(sprite.style.top) + 8 + 'px'}, 300);
			setTimeout(function() {character.going = false}, 300);
		}
		else {
			setTimeout(function() {sprite.src="http://alexhwang.net/wp-content/uploads/2016/07/" + character.month + "D1.png"}, 0);
			setTimeout(function() {character.going = false}, 150);
		}
	}
	else if((event.keyCode == cm.ms1 || event.keyCode == cm.ms2 || event.keyCode == cm.ms3) && !character.going && !character.paused) { //enter or z
		//MENU INTERACT
	}
	else if((event.keyCode == cm.ac1 || event.keyCode == cm.ac2 || event.keyCode == cm.ac3) && !character.going) { //space or q
		if(!character.paused && character.talk == 0) {
			var actX = character.x;
			var actY = character.y;
			if (character.direction == "left") {actX -= 1;}
			else if (character.direction == "right") {actX += 1;}
			else if (character.direction == "up") {actY -= 1;}
			else if (character.direction == "down") {actY += 1;}
			for (i = 0; i < things.length; i++) {
				var nowThing = things[i];
				if (actX == nowThing.x && actY == nowThing.y) {
					switch (nowThing.action) {
						case 0:
							break;
						case 1:
							character.paused = true;
							if (character.direction == "down") {
								document.getElementById(nowThing.name + i).setAttribute("src", nowThing.sprite[3])
							}
							else if (character.direction == "left") {
								document.getElementById(nowThing.name + i).setAttribute("src", nowThing.sprite[2])
							}
							else if (character.direction == "right") {
								document.getElementById(nowThing.name + i).setAttribute("src", nowThing.sprite[1])
							}
							else {
								document.getElementById(nowThing.name + i).setAttribute("src", nowThing.sprite[0])
							}
							$('#textbox').append('<div id="textcontent" class="textcontent">' + nowThing.misc + '</div>');
							character.talk = 1;
							break;
					}
				}
			}
		}
		else if (character.paused && character.talk == 1) {
			$('#textcontent').remove();
			character.talk = 0;
			character.paused = false;
		}
	}
});
</script>
<style>
.characterStyle {
	z-index: 100;
}

.thingStyle {
}

.textbox {
    white-space: nowrap;
	text-align: center;
	position: absolute;
	top: 250px;
	left: 600px;
	display: block;
}
.textcontent {
    background-color: rgb(255, 255, 255);
    text-align: left;
	border: thin solid #000000;
    color: black;
    height: 150px;
    width: 200px;
}

.container {
    white-space: nowrap;
	text-align: center;
	position: absolute;
	top: 10px;
	left: 600px;
	display: block;
}
.inblock {
    display: inline-block;
    margin: auto;
    width: 40%;
    text-align: left;
    vertical-align: top;
}
.content {
    background-color: rgb(0, 0, 0);
    color: gray;
    height: 230px;
    width: 100px;
}
.noselect {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
</style>
</body>

</html>
